<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:CoreFlow.Presentation.Controls"
    xmlns:shared="clr-namespace:CoreFlow.Presentation.Resources.Styles.Shared" >
    <!--List View-->
    <Style
        x:Key="ListView"
        TargetType="{x:Type ListView}" >
        <Setter
            Property="Background"
            Value="Transparent" />
        <Setter
            Property="BorderBrush"
            Value="Transparent" />
        <Setter
            Property="BorderThickness"
            Value="0" />
        <Setter
            Property="Foreground"
            Value="Transparent" />
        <Setter
            Property="ScrollViewer.CanContentScroll"
            Value="True" />
        <Setter
            Property="ScrollViewer.HorizontalScrollBarVisibility"
            Value="Auto" />
        <Setter
            Property="ScrollViewer.PanningMode"
            Value="Both" />
        <Setter
            Property="ScrollViewer.VerticalScrollBarVisibility"
            Value="Auto" />
        <Setter
            Property="VerticalContentAlignment"
            Value="Center" />
        <Setter
            Property="Template" >
            <Setter.Value>
                <ControlTemplate
                    TargetType="{x:Type ListView}" >
                    <Border
                        x:Name="Bd"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{DynamicResource ControlCornerRadius}"
                        Padding="0"
                        SnapsToDevicePixels="True" >
                        <ScrollViewer
                            Focusable="False"
                            Padding="{TemplateBinding Padding}"
                            Style="{DynamicResource ScrollViewer}" >
                            <ItemsPresenter
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!--Tree View-->
    <Style
        x:Key="TreeView"
        TargetType="{x:Type TreeView}" >
        <Setter
            Property="Background"
            Value="Transparent" />
        <Setter
            Property="BorderBrush"
            Value="Transparent" />
        <Setter
            Property="BorderThickness"
            Value="0" />
        <Setter
            Property="Foreground"
            Value="Transparent" />
        <Setter
            Property="Padding"
            Value="0,2" />
        <Setter
            Property="ScrollViewer.HorizontalScrollBarVisibility"
            Value="Auto" />
        <Setter
            Property="ScrollViewer.PanningMode"
            Value="Both" />
        <Setter
            Property="ScrollViewer.VerticalScrollBarVisibility"
            Value="Auto" />
        <Setter
            Property="VerticalContentAlignment"
            Value="Stretch" />
        <Setter
            Property="Template" >
            <Setter.Value>
                <ControlTemplate
                    TargetType="{x:Type TreeView}" >
                    <Border
                        x:Name="Border"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        SnapsToDevicePixels="True" >
                        <ScrollViewer
                            x:Name="_tv_scrollviewer_"
                            Background="{TemplateBinding Background}"
                            CanContentScroll="False"
                            Focusable="False"
                            HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}"
                            Padding="{TemplateBinding Padding}"
                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                            Style="{DynamicResource ScrollViewer}"
                            VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" >
                            <ItemsPresenter />
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!--Expander-->
    <Style
        x:Key="Expander.WrapPanel"
        TargetType="{x:Type Expander}" >
        <Style.Resources>
            <Style
                x:Key="ExpanderToogleButton"
                TargetType="{x:Type ToggleButton}" >
                <Setter
                    Property="ClickMode"
                    Value="Press" />
                <Setter
                    Property="Focusable"
                    Value="False" />
                <Setter
                    Property="Height"
                    Value="30" />
                <Setter
                    Property="IsTabStop"
                    Value="False" />
                <Setter
                    Property="OverridesDefaultStyle"
                    Value="True" />
                <Setter
                    Property="Width"
                    Value="30" />
                <Setter
                    Property="Template" >
                    <Setter.Value>
                        <ControlTemplate
                            TargetType="{x:Type ToggleButton}" >
                            <Border
                                x:Name="GlyphBorder"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                BorderThickness="0"
                                CornerRadius="{DynamicResource ControlCornerRadius}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" >
                                <TextBlock
                                    x:Name="ContentText"
                                    FontFamily="{DynamicResource SegoeFluentIcons}"
                                    FontSize="16"
                                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                    HorizontalAlignment="Center"
                                    LineHeight="16"
                                    Margin="12"
                                    Text="&#xE972;"
                                    VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger
                                    Property="IsChecked"
                                    Value="True" >
                                    <Setter
                                        Property="Text"
                                        TargetName="ContentText"
                                        Value="&#xE971;" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Style.Resources>
        <Setter
            Property="Background"
            Value="{DynamicResource CardBackgroundFillColorDefaultBrush}" />
        <Setter
            Property="BorderBrush"
            Value="{DynamicResource CardStrokeColorDefaultBrush}" />
        <Setter
            Property="BorderThickness"
            Value="1" />
        <Setter
            Property="Foreground"
            Value="{DynamicResource TextFillColorPrimaryBrush}" />
        <Setter
            Property="HorizontalAlignment"
            Value="Stretch" />
        <Setter
            Property="VerticalAlignment"
            Value="Center" />
        <Setter
            Property="Template" >
            <Setter.Value>
                <ControlTemplate
                    TargetType="{x:Type Expander}" >
                    <Border
                        Background="{DynamicResource ControlFillColorDefaultBrush}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{DynamicResource ControlCornerRadius}"
                        SnapsToDevicePixels="True" >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition
                                    Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Border
                                x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{DynamicResource ControlCornerRadius}"
                                SnapsToDevicePixels="True" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition
                                            Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        x:Name="ContentText"
                                        Foreground="{TemplateBinding Foreground}"
                                        Margin="50,16"
                                        Style="{DynamicResource SubtitleTextBlockStyle}"
                                        Text="{TemplateBinding Header}"
                                        VerticalAlignment="Center" />
                                    <ToggleButton
                                        x:Name="HeaderSite"
                                        Grid.Column="1"
                                        HorizontalAlignment="Center"
                                        IsChecked="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                                        Margin="3"
                                        Padding="{TemplateBinding Padding}"
                                        Style="{StaticResource ExpanderToogleButton}"
                                        VerticalAlignment="Center" />
                                </Grid>
                            </Border>
                            <ItemsControl
                                x:Name="ChildBase"
                                Grid.Row="1"
                                ItemsSource="{TemplateBinding Content}"
                                ItemTemplate="{Binding Path=(shared:ExpanderProperties.WrapPanelDataTemplate),
                           RelativeSource={RelativeSource TemplatedParent}}"
                                Width="{Binding ActualWidth, ElementName=Border}"
                                Visibility="Collapsed" >
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <controls:WrapPanel
                                            IsItemsHost="True"
                                            MinItemWidth="300" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger
                            Property="IsExpanded"
                            Value="True" >
                            <Setter
                                Property="Visibility"
                                TargetName="ChildBase"
                                Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>